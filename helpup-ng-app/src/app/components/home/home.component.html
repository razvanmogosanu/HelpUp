<div class="all">
  <!-- Create post-->
  <div class="center">
    <h5>Create Post</h5>
    <div *ngIf="errorMessage !== ''"  class="error-message">{{errorMessage}}</div>
    <form [formGroup]="postForm" class="px-4 py-3">
      <div class="form-group">
        <textarea class="form-control" formControlName="description" id="description"
                  placeholder="Description..." maxlength="2000" rows="4" cols="50"></textarea>
      </div>

      <div class="form-group">
        <input #fileInput type="file" accept="image/*" (change)="onFileChanged($event)">
      </div>

      <input type="button" (click)="onUpload()" value="Post" class="btn button">
    </form>
  </div>


  <!-- List with posts -->
  <div class="posts">
    <div *ngFor="let post of retrievedPosts" class="post">
      <span class="username">@{{post.user_username}}</span>
      <span class="date">â€§ {{translateTime(post.date)}}</span>

      <div>
        <div *ngIf="isMine(post)" style="float: right;">
          <button (click)="post.editMode = true;">EDIT</button>
          <button (click)="deletePost(post.id)">Delete</button>
        </div>

        <form>
          <div *ngIf="!post.editMode">
            <p class="description"> {{post.description}} </p>

          </div>
          <div *ngIf="post.editMode">
            <input #newDescription value="{{post.description}}">
            <button (click)="saveDescriptionAfterEdit(post, newDescription.value);">SAVE</button>
          </div>
        </form>

      </div>

      <img [src]="translateImage(post.image)" class="post-image">

    </div>
  </div>
  <div style="height: 50px"></div>
</div>
